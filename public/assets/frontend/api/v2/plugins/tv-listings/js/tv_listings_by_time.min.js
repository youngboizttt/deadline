(itvHubNub = itvHubNub || {})["postcode-blacklist"] = {
    postcodes: ["wc1x 8hf", "sw1a 1aa", "w11 2bq", "sw19 3rq", "sw18 1aa", "ec1a 1bb", "wc1 8hf", "se1 9lt", "ec1a 1aa", "nr4 7tj", "sw1a 2aa", "me7 9aa", "ub8 3ph", "sw1x 7xl", "kt12 5py", "ec1v 9fr", "sw18 1ab", "nn2 7al", "w1k 7aa", "w1a 1aa", "sw1a 0aa", "wc1f 8hf", "wc1x 8fh", "co4 3sq", "tw20 0ex", "cv4 7es", "tr26 2rn", "sw15 5pu", "m25 9hr", "wc1x8hf", "sw1a1aa", "w112bq", "sw193rq", "sw181aa", "ec1a1bb", "se19lt", "ec1a1aa", "nr47tj", "sw1a2aa", "me79aa", "ub83ph", "sw1x7xl", "kt125py", "ec1v9fr", "sw181ab", "nn27al", "w1k7aa", "w1a1aa", "sw1a0aa", "wc1f8hf", "wc1x8fh", "co43sq", "tw200ex", "cv47es", "tr262rn", "sw155pu", "m259hr"]
},
    function(e, t) {
        "object" == typeof exports && exports && "string" != typeof exports.nodeName ? t(exports) : "function" == typeof define && define.amd ? define(["exports"], t) : (e.Mustache = {}, t(e.Mustache))
    },
    function(e) {
        function o(e, t, i, s, n) {
            this._listener = t, this._isOnce = i, this.context = s, this._signal = e, this._priority = n || 0
        }

        function s(e, t) {
            if ("function" != typeof e) throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}", t))
        }

        function t() {
            this._bindings = [], this._prevParams = null;
            var e = this;
            this.dispatch = function() {
                t.prototype.dispatch.apply(e, arguments)
            }
        }
        t.prototype = {
            VERSION: "1.0.0",
            memorize: !(o.prototype = {
                active: !0,
                params: null,
                execute: function(e) {
                    var t, i;
                    return this.active && this._listener && (i = this.params ? this.params.concat(e) : e, t = this._listener.apply(this.context, i), this._isOnce && this.detach()), t
                },
                detach: function() {
                    return this.isBound() ? this._signal.remove(this._listener, this.context) : null
                },
                isBound: function() {
                    return !!this._signal && !!this._listener
                },
                isOnce: function() {
                    return this._isOnce
                },
                getListener: function() {
                    return this._listener
                },
                getSignal: function() {
                    return this._signal
                },
                _destroy: function() {
                    delete this._signal, delete this._listener, delete this.context
                },
                toString: function() {
                    return "[SignalBinding isOnce:" + this._isOnce + ", isBound:" + this.isBound() + ", active:" + this.active + "]"
                }
            }),
            _shouldPropagate: !0,
            active: !0,
            _registerListener: function(e, t, i, s) {
                var n, r = this._indexOfListener(e, i);
                if (-1 !== r) {
                    if ((n = this._bindings[r]).isOnce() !== t) throw new Error("You cannot add" + (t ? "" : "Once") + "() then add" + (t ? "Once" : "") + "() the same listener without removing the relationship first.")
                } else n = new o(this, e, t, i, s), this._addBinding(n);
                return this.memorize && this._prevParams && n.execute(this._prevParams), n
            }
        };
        var i = t;
        i.Signal = t, "function" == typeof define && define.amd ? define(function() {
            return i
        }) : "undefined" != typeof module && module.exports ? module.exports = i : e.signals = i
    }(this),
    function(e, t) {
        "object" == typeof exports ? module.exports = exports = t() : "function" == typeof define && define.amd ? define([], t) : e.CryptoJS = t()
    }(this, function() {
        var c, i, e, t, s, d, n, r, o, a, l, u, h = h || (c = Math, i = Object.create || function() {
            function i() {}
            return function(e) {
                var t;
                return i.prototype = e, t = new i, i.prototype = null, t
            }
        }(), t = (e = {}).lib = {}, s = t.Base = {
            extend: function(e) {
                var t = i(this);
                return e && t.mixIn(e), t.hasOwnProperty("init") && this.init !== t.init || (t.init = function() {
                    t.$super.init.apply(this, arguments)
                }), (t.init.prototype = t).$super = this, t
            },
            create: function() {
                var e = this.extend();
                return e.init.apply(e, arguments), e
            },
            init: function() {},
            mixIn: function(e) {
                for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
                e.hasOwnProperty("toString") && (this.toString = e.toString)
            },
            clone: function() {
                return this.init.prototype.extend(this)
            }
        }, d = t.WordArray = s.extend({
            init: function(e, t) {
                e = this.words = e || [], this.sigBytes = null != t ? t : 4 * e.length
            },
            toString: function(e) {
                return (e || r).stringify(this)
            },
            concat: function(e) {
                var t = this.words,
                    i = e.words,
                    s = this.sigBytes,
                    n = e.sigBytes;
                if (this.clamp(), s % 4)
                    for (var r = 0; r < n; r++) {
                        var o = i[r >>> 2] >>> 24 - r % 4 * 8 & 255;
                        t[s + r >>> 2] |= o << 24 - (s + r) % 4 * 8
                    } else
                        for (r = 0; r < n; r += 4) t[s + r >>> 2] = i[r >>> 2];
                return this.sigBytes += n, this
            },
            clamp: function() {
                var e = this.words,
                    t = this.sigBytes;
                e[t >>> 2] &= 4294967295 << 32 - t % 4 * 8, e.length = c.ceil(t / 4)
            },
            clone: function() {
                var e = s.clone.call(this);
                return e.words = this.words.slice(0), e
            },
            random: function(e) {
                for (var t, i = [], s = function(t) {
                        t = t;
                        var i = 987654321,
                            s = 4294967295;
                        return function() {
                            var e = ((i = 36969 * (65535 & i) + (i >> 16) & s) << 16) + (t = 18e3 * (65535 & t) + (t >> 16) & s) & s;
                            return e /= 4294967296, (e += .5) * (.5 < c.random() ? 1 : -1)
                        }
                    }, n = 0; n < e; n += 4) {
                    var r = s(4294967296 * (t || c.random()));
                    t = 987654071 * r(), i.push(4294967296 * r() | 0)
                }
                return new d.init(i, e)
            }
        }), n = e.enc = {}, r = n.Hex = {
            stringify: function(e) {
                for (var t = e.words, i = e.sigBytes, s = [], n = 0; n < i; n++) {
                    var r = t[n >>> 2] >>> 24 - n % 4 * 8 & 255;
                    s.push((r >>> 4).toString(16)), s.push((15 & r).toString(16))
                }
                return s.join("")
            },
            parse: function(e) {
                for (var t = e.length, i = [], s = 0; s < t; s += 2) i[s >>> 3] |= parseInt(e.substr(s, 2), 16) << 24 - s % 8 * 4;
                return new d.init(i, t / 2)
            }
        }, o = n.Latin1 = {
            stringify: function(e) {
                for (var t = e.words, i = e.sigBytes, s = [], n = 0; n < i; n++) {
                    var r = t[n >>> 2] >>> 24 - n % 4 * 8 & 255;
                    s.push(String.fromCharCode(r))
                }
                return s.join("")
            }
        }
        );
        return h
    }),

    function(e) {
        var t = !1;
        if ("function" == typeof define && define.amd && (define(e), t = !0), "object" == typeof exports && (module.exports = e(), t = !0), !t) {
            var i = window.Cookies,
                s = window.Cookies = e();
            s.noConflict = function() {
                return window.Cookies = i, s
            }
        }
    }(function() {
        return function e(p) {
            function f(e, t, i) {
                var s;
                if ("undefined" != typeof document) {
                    if (1 < arguments.length) {
                        if ("number" == typeof(i = g({
                                path: "/"
                            }, f.defaults, i)).expires) {
                            var n = new Date;
                            n.setMilliseconds(n.getMilliseconds() + 864e5 * i.expires), i.expires = n
                        }
                        i.expires = i.expires ? i.expires.toUTCString() : "";
                        try {
                            s = JSON.stringify(t), /^[\{\[]/.test(s) && (t = s)
                        } catch (e) {}
                        t = p.write ? p.write(t, e) : encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), e = (e = (e = encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)).replace(/[\(\)]/g, escape);
                        var r = "";
                        for (var o in i) i[o] && (r += "; " + o, !0 !== i[o] && (r += "=" + i[o]));
                        return document.cookie = e + "=" + t + r
                    }
                    e || (s = {});
                    for (var a = document.cookie ? document.cookie.split("; ") : [], l = /(%[0-9A-Z]{2})+/g, u = 0; u < a.length; u++) {
                        var c = a[u].split("="),
                            d = c.slice(1).join("=");
                        this.json || '"' !== d.charAt(0) || (d = d.slice(1, -1));
                        try {
                            var h = c[0].replace(l, decodeURIComponent);
                            if (d = p.read ? p.read(d, h) : p(d, h) || d.replace(l, decodeURIComponent), this.json) try {
                                d = JSON.parse(d)
                            } catch (e) {}
                            if (e === h) {
                                s = d;
                                break
                            }
                            e || (s[h] = d)
                        } catch (e) {}
                    }
                    return s
                }
            }
            return (f.set = f).get = function(e) {
                return f.call(f, e)
            }, f.getJSON = function() {
                return f.apply({
                    json: !0
                }, [].slice.call(arguments))
            }, f.defaults = {}, f.remove = function(e, t) {
                f(e, "", g(t, {
                    expires: -1
                }))
            }, f.withConverter = e, f
        }(function() {})
    });
var itvPlayer = itvPlayer || {};
itvPlayer.modules = itvPlayer.modules || {};
var dataLayer = dataLayer || [],
    itvdl = itvdl || [],
    itvHubNub = itvHubNub || {},
    Stripe = Stripe || {};
itvPlayer.config = {
        controller: document.body.getAttribute("data-controller"),
        action: document.body.getAttribute("data-action"),
        getPath: function(e) {
            "use strict";
            return itvPlayer.config.productPath + itvPlayer.config.paths[e]
        }
    },
    function(e) {
        //doanvh
        "use strict";
        e.Gii = function(e) {
            e && this.init(e)
        }, e.Gii.prototype = {
            init: function(e) {
                var t = document.body,
                    i = t.getAttribute("data-controller"),
                    s = t.getAttribute("data-action");
                this.exec(e, "Common"), this.exec(e, i), this.exec(e, i, s)
            },
            exec: function(e, t, i) {
                var s = e;
                i = void 0 === i ? "init" : i, "" !== t && s[t] && "function" == typeof s[t][i] && s[t][i]()
            }
        }
    }(itvPlayer),
    function(e, n) {
        // doanvh
        "use strict";
        e.Pubsub = function() {
            this._subscriptions = {}
        }, e.Pubsub.prototype = {
            subscribe: function(e, t, i, s) {
                return this._subscriptions.hasOwnProperty(e) || (this._subscriptions[e] = new n.Signal), this._subscriptions[e].add(t, i, s)
            },
            unsubscribe: function(e, t) {
                this._subscriptions.hasOwnProperty(e) && this._subscriptions[e].remove(t)
            },
            unsubscribeAll: function(e) {
                this._subscriptions.hasOwnProperty(e) && this._subscriptions[e].removeAll()
            },
            publish: function(e, t) {
                this._subscriptions.hasOwnProperty(e) && (t ? this._subscriptions[e].dispatch.apply(this._subscriptions[e], t) : this._subscriptions[e].dispatch())
            }
        }
    }(itvPlayer, signals),
    function(e) {
        // doanvh
        "use strict";
        e.Queues = function() {
            this._queues = {}
        }, e.Queues.prototype = {
            add: function(e, t, i, s) {
                i = i || !1, s = s || !1, this._queues.hasOwnProperty(e) || (this._queues[e] = []);
                var n = {
                        callback: t,
                        blocksProgress: s,
                        priority: i
                    },
                    r = this._queues[e];
                if (!1 === i) this._queues[e].push(n);
                else
                    for (var o = 0; o <= r.length; o++)
                        if (o >= r.length || r[o].priority > i || !1 === r[o].priority) {
                            this._queues[e].splice(o, 0, n);
                            break
                        }
            },
            process: function(e, t) {
                if (t = t || 0, this._queues.hasOwnProperty(e))
                    for (var i = this._queues[e]; t < i.length;) {
                        var s = i[t];
                        t++;
                        var n = this.getResumeCallback(e, t),
                            r = s.callback(n);
                        if (s.blocksProgress && !r) break
                    }
            },
            getResumeCallback: function(e, t) {
                var i = this;
                return function() {
                    i.process(e, t)
                }
            }
        }
    }(itvPlayer),
    function(h) {
        // doanvh
        "use strict";
        h.Forms = function() {
            this._forms = {}
        }, h.Forms.prototype = {
            create: function(e, t, i) {
                var u, c = function() {
                        var t, e = document.createElement("input");
                        try {
                            e.type = "date", e.value = "Hello world!", t = "date" === e.type && "Hello world" !== e.value
                        } catch (e) {
                            t = !1
                        }
                        return t
                    }(),
                    d = function(e, t) {
                        var i, l;
                        i = function(e) {
                            var t;
                            switch (e.nodeName) {
                                case "INPUT":
                                    if ("checkbox" === e.getAttribute("type")) t = e.checked;
                                    else if ("radio" === e.getAttribute("type"))
                                        for (var i = document.getElementsByName(e.getAttribute("name")), s = 0; i[s];) {
                                            if (!0 === i[s].checked) {
                                                t = i[s].value;
                                                break
                                            }
                                            s++
                                        } else if ("date" !== e.getAttribute("type") || c || "" === e.value) t = String(e.value).trim();
                                        else {
                                            var n = !!String(e.value).match(/[^0-9\/\-\.\s]/g),
                                                r = String(e.value).trim().replace(/[^0-9\/\-\.\s]/g, "").replace(/[\/\-\.\s]/g, "/").split("/");
                                            if (3 !== r.length || n) t = "";
                                            else {
                                                var o = new Date;
                                                o.setUTCFullYear(parseInt(r[2], 10)), o.setUTCMonth(parseInt(r[1], 10) - 1), o.setUTCDate(parseInt(r[0], 10)), t = !1 !== o && (t = String("0000" + o.getUTCFullYear()).slice(-4) + "-" + String("00" + (o.getUTCMonth() + 1)).slice(-2) + "-" + String("00" + o.getUTCDate()).slice(-2), l(e, t), String(t).trim())
                                            }
                                        }
                                    break;
                                case "TEXTAREA":
                                    t = String(e.value).trim();
                                    break;
                                case "SELECT":
                                    t = [];
                                    for (var a = 0; a < e.options.length; a++) e.options[a].selected && !1 === h.utils.isEmpty(e.options[a].value) && t.push(String(e.options[a].value).trim());
                                    0 === t.length ? t = "" : 1 === t.length && (t = t.shift())
                            }
                            return t
                        }, l = function(e, t) {
                            switch (e.nodeName) {
                                case "INPUT":
                                    if ("checkbox" === e.getAttribute("type")) null !== t && !1 !== t ? e.setAttribute("checked", "checked") : e.removeAttribute("checked");
                                    else if ("radio" === e.getAttribute("type"))
                                        for (var i = document.getElementsByName(e.getAttribute("name")), s = 0; i[s];) i[s].value === t ? i[s].setAttribute("checked", "checked") : i[s].removeAttribute("checked"), s++;
                                    else if ("date" !== e.getAttribute("type") || c || "" === t) e.value = t;
                                    else {
                                        var n = String(t).split("-"),
                                            r = new Date;
                                        r.setUTCFullYear(parseInt(n[0], 10)), r.setUTCMonth(parseInt(n[1], 10) - 1), r.setUTCDate(parseInt(n[2], 10)), e.value = !1 === r ? "" : t = String("00" + r.getUTCDate()).slice(-2) + "/" + String("00" + (r.getUTCMonth() + 1)).slice(-2) + "/" + String("0000" + r.getUTCFullYear()).slice(-4)
                                    }
                                    break;
                                case "TEXTAREA":
                                    e.value = t;
                                    break;
                                case "SELECT":
                                    e.selectedIndex = 0;
                                    var o = [];
                                    !1 === h.utils.isArray(t) ? o.push(t) : o = t;
                                    for (var a = 0; a < e.options.length; a++)
                                        for (var l = 0; l < o.length; l++) e.options[a].value === o[l] ? (e.options[a].setAttribute("selected", "selected"), e.value = o[l]) : e.options[a].removeAttribute("selected")
                            }
                        };
                        var s = h.utils.closest(e, "js-field");
                        if (null === s) throw new Error("Field without a container. Make sure each form field is wrapped with .js-field css class");
                        var n = e.getAttribute("name");
                        if (null === n) throw new Error("Field without a name. Make sure each form field has a name attribute");
                        var r = {
                            fieldElement: e,
                            containerElement: s,
                            messageElement: s.querySelector(".js-field-error-message"),
                            initialValue: void 0 !== t[e.getAttribute("name")] ? t[e.getAttribute("name")] : i(e)
                        };
                        this.initial = function(e) {
                            r.initialValue = e
                        }, this.value = function(e) {
                            if (void 0 === e) return i(r.fieldElement);
                            l(r.fieldElement, e)
                        }, this.reset = function() {
                            l(r.fieldElement, r.initialValue)
                        }, this.error = function(e) {
                            return !1 === e ? (h.utils.removeClass(r.containerElement, "is-error"), void(null !== r.messageElement && (r.messageElement.innerHTML = ""))) : void 0 === e ? null !== r.messageElement ? r.messageElement.innerHTML : h.utils.hasClass(r.containerElement, "is-error") : (null !== r.messageElement && (r.messageElement.innerHTML = e), void h.utils.addClass(r.containerElement, "is-error"))
                        }, this.event = function(e, t) {
                            r.fieldElement.addEventHandler(e, t)
                        }, this.getType = function() {
                            return "INPUT" === n ? r.fieldElement.getAttribute("type") : r.fieldElement.nodeName.toLowerCase()
                        }, this.getName = function() {
                            return r.fieldElement.getAttribute("name")
                        }, this.getElement = function() {
                            return r.fieldElement
                        }, this.getWrapper = function() {
                            return r.containerElement
                        }
                    };
                u = new function(e, t) {
                    var o = {};
                    if (void 0 === e) throw new Error("Forms must be created using unique HTML DOM element IDs");
                    var a = document.body.querySelector(e);
                    if (null === a) throw new Error("Non existing ID " + e + " passed");
                    var n = a.querySelector('[type="submit"]');
                    void 0 === t && (t = {});
                    for (var i, s = a.querySelectorAll('input:not([type="submit"]),select,textarea'), r = 0; r < s.length; r++)(i = new d(s[r], t)).reset(), o[i.getName()] = i;
                    this.populate = function(e) {
                        for (var t in e) this.setValue(t, e[t])
                    }, this.empty = function() {
                        var e = {};
                        for (var t in o) e[t] = null;
                        this.populate(e)
                    }, this.setValue = function(e, t) {
                        void 0 !== o[e] && o[e].value(t)
                    }, this.getValue = function(e) {
                        if (void 0 !== o[e]) return o[e].value();
                        throw new Error("Unknown field: " + e)
                    }, this.getField = function(e) {
                        if (void 0 !== o[e]) return o[e];
                        throw new Error("Unknown field: " + e)
                    }, this.hasField = function(e) {
                        return void 0 !== o[e]
                    }, this.getFields = function() {
                        return o
                    }, this.errors = function(e) {
                        var t, i = a.querySelector(".js-form-error-message");
                        if (!1 === e)
                            for (t in h.utils.removeClass(a, "is-error"), null !== i && (i.innerHTML = ""), e) o[t].error(!1);
                        else {
                            if (void 0 === e) {
                                for (t in e = {}, o) e[o[t].getName()] = o[t].error();
                                var s = !1;
                                return h.utils.hasClass(a, "is-error") && (s = null === i || i.innerHTML), e.form = s, e
                            }
                            if ("string" == typeof e) h.utils.addClass(a, "is-error"), null !== i && (i.innerHTML = e);
                            else {
                                var n, r;
                                for (t in e) !0 === e[t] || 0 < e[t].length ? (n = h.utils.isArray(e[t]) ? e[t].shift() : !0 === e[t] ? "" : e[t], void 0 === r && (r = t)) : n = !1, o[t].error(n);
                                void 0 !== r && this.getField(r).getElement().focus()
                            }
                        }
                    }, this.notification = function(e) {
                        var t = a.querySelector(".js-form-notification-message"),
                            i = t.parentElement;
                        if (null === t) return !1;
                        t.innerHTML = !1 === e ? (h.utils.removeClass(i, "is-visible"), "") : (h.utils.addClass(i, "is-visible"), e)
                    }, this.getState = function() {
                        return a.getAttribute("data-form-state")
                    }, this.getEvent = function(e) {
                        return a.getAttribute("data-event-" + e)
                    }, this.serialize = function(e) {
                        var t, i = {};
                        for (t in o) "boolean" === o[t].getElement().getAttribute("data-input-type") ? i[o[t].getName()] = "true" === o[t].value() : i[o[t].getName()] = o[t].value();
                        if (void 0 !== e)
                            for (t in e) delete i[e[t]];
                        return i
                    };
                    var l = {};
                }(e, t), void 0 !== i && u.setValidators(i);
                return window.addEventListener("change", function() {
                    u.validate()
                }), this._forms[e] = u, this._forms[e]
            },
            getById: function(e) {
                return void 0 !== this._forms[e] && this._forms[e]
            }
        }
    }(itvPlayer),
    function(n) {
        // doanvh
        "use strict";
        n.Module = function(e) {
            for (var t in this.pubsub = n.pubsub || new n.Pubsub, this.queues = n.queues || new n.Queues, this.forms = n.forms || new n.Forms, e) this[t] = e[t];
            this._inititalise()
        }, n.Module.extend = function(e) {
            var i = e || {},
                t = function(e) {
                    for (var t in e) i[t] = e[t];
                    n.Module.call(this, i)
                };
            if (Object.create) t.prototype = Object.create(n.Module.prototype);
            else {
                var s = function() {};
                s.prototype = n.Module.prototype, t.prototype = new s
            }
            return t.prototype.constructor = t
        }, n.Module.prototype = {
            selfInitialise: !0,
            init: function() {},
            destroy: function() {},
            _findElement: function(e) {
                this.els = document.querySelectorAll(e), this.els.length && (this.el = this.els[0])
            },
            _bindEvents: function(e) {
                if (this.els)
                    for (var t = 0; t < this.els.length; t++)
                        for (var i in e)
                            for (var s in e[i]) try {
                                if ("el" === i) this.els[t].addEventListener(s, this[e[i][s]]);
                                else
                                    for (var n = this.els[t].querySelectorAll(i), r = 0; r < n.length; r++) n[r].addEventListener(s, this[e[i][s]])
                            } catch (e) {
                                this.error(e)
                            }
            },
            _addSubscriptions: function(e) {
                for (var t in e) try {
                    this.pubsub.subscribe(t, this[e[t]])
                } catch (e) {
                    this.error(e)
                }
            },
            _addProxies: function(e) {
                for (var t = 0; t < e.length; t++) try {
                    this[e[t]] = this[e[t]].bind(this)
                } catch (e) {
                    this.error(e)
                }
            },
            _inititalise: function() {
                this.querySelector && this._findElement(this.querySelector), this.proxied && this._addProxies(this.proxied), this.events && this._bindEvents(this.events), this.subscriptions && this._addSubscriptions(this.subscriptions), this.selfInitialise && this.init()
            },
            error: function() {
                "undefined" != typeof console && (console.hasOwnProperty("error"), 1) && console.error(arguments)
            }
        }
    }(itvPlayer),
    function(e) {
        // doanvh
        "use strict";
        e.modules.Guide = e.Module.extend({
            querySelector: ".js-guide",
            events: {
                ".js-guide-scroll": {
                    click: "onClickScroll"
                }
            },
            subscriptions: {},
            proxied: ["onClickScroll"],
            init: function() {
                this.scrollTarget = this.el.querySelector(".js-guide-scroll-target");
//                var e = (new Date).getHours();
                var e = document.querySelector("#js-current-hour").value;
//                alert(e.value);
                this.scrollToHour(e);
//                !!this.el.getAttribute("data-is-today") ? this.scrollToHour(e) : this.scrollToHour(19)
            },
            onClickScroll: function(e) {
                var t = "right" === e.target.getAttribute("data-scroll-direction") ? 1 : -1,
                    i = this.scrollTarget.scrollLeft,
                    s = this.scrollTarget.offsetWidth;
                this.scrollTarget.scroll ? this.scrollTarget.scroll({
                    top: 0,
                    left: i + t * s / 2,
                    behavior: "smooth"
                }) : this.scrollTarget.scrollLeft = i + t * s / 2
            },
            scrollToHour: function(e) {
                var t = document.querySelector(".js-guide-hour-" + e);
                if (t) {
                    var i = t.getBoundingClientRect().left - this.scrollTarget.getBoundingClientRect().left - this.scrollTarget.scrollLeft;
                    this.scrollTarget.scroll ? this.scrollTarget.scroll({
                        top: 0,
                        left: (i > 300 ? i - 300 : i)
                    }) : this.scrollTarget.scrollLeft = i
                }
            }
        })
    }(itvPlayer),
    function(e, t) {
        // doanvh
        "use strict";
        e.modules.Serve = e.Module.extend({
            querySelector: ".js-serve",
            cookieDomain: document.location.hostname.split(".").slice(-2).join("."),
            events: {},
            subscriptions: {},
            proxied: [],
            init: function() {
                this.els.length && (this.getParams(), this.processAds())
            },
            getParams: function() {
                this.enabled = document.body.getAttribute("data-serve-enabled"), this.url = document.body.getAttribute("data-serve-url"), this.area = document.body.getAttribute("data-serve-area"), this.site = document.body.getAttribute("data-serve-site"), this.viewid = this.generateId(), this.mid = this.getMidValue();
                var e = this;
                this.pm = "free", this.pubsub.publish("rpc.user", [function() {
                    this.isLoggedIn() && this.hasEntitlement("adfree") && !this.hasEntitlement("email_verification", "failed_availability_checks") && (e.pm = "premium")
                }])
            },
            processAds: function() {
                if (this.enabled && this.url && this.area && this.site)
                    for (var e = 0; e < this.els.length; e++) {
                        var t = this.els[e],
                            i = t.getAttribute("data-serve-supertag"),
                            s = {
                                mid: this.mid,
                                site: this.site,
                                area: this.area,
                                size: t.getAttribute("data-serve-size"),
                                viewid: this.viewid,
                                random: this.generateId(),
                                supertag: i || !1,
                                pm: this.pm
                            };
                        this.renderAd(t, this.url, s)
                    }
            },
            renderAd: function(e, t, i) {
                var s = "";
                for (var n in i) i[n] && (s += "/" + n + "=" + i[n]);
                postscribe(e, '<script src="' + (t + s) + '" type="text/javascript" language="javascript"><\/script>')
            },
            generateId: function() {
                for (var e = String(Math.floor(9999999999 * Math.random())); e.length < 10;) e = "0" + e;
                return e
            },
            getMidValue: function() {
                var e = t.get("mid");
                return e || (e = String(Math.floor(1e19 * Math.random())), t.set("mid", e, {
                    expires: 1095,
                    domain: this.cookieDomain
                })), e
            }
        })
    }(itvPlayer, Cookies),
    function(e) {
        "use strict";
        var t = {
            TvGuideController: {
                indexAction: function() {
                    new e.modules.Guide, new e.modules.Serve
                }
            }
        };
        e.pubsub = new e.Pubsub, e.queues = new e.Queues, e.forms = new e.Forms, e.gii = new e.Gii(t), e.pubsub.publish("gii.ready")
    }(itvPlayer);


// tooltip
$('.tip').each(function () {
    $(this).tooltip(
    {
        html: true,
        title: $('#' + $(this).data('tip')).html()
    });
});